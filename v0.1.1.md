
# 功能需求：

/*create by eric wang*/

0.创建应用

0.1 增加集群类别（生产集群，预发/测试集群）

0.2 创建应用以后，应用名称自动在用户配置用户名后加上预发或测试字样

      eg:用户填写应用名称为test，集群类别为预发，则应用创建后，显示应用名为test-预发

0.3 增加go/c++以后，选择语言以后，对应用类型有限制，只能选择指定类型，对应关系请王峰提供

1. 编译构建

1.1 增加go语言支持

       1.1.1 选择go和c/c++语言以后，打包类型只能选择make

       1.1.2 选择java语言以后，打包类型只能选择maven 2 和 maven 3

1.2 增加java worker应用类型

1.3 编译完应用包以后，页面栏增加md5显示

1.4 增加上传用户自己打包好应用包功能

1.5 增加编译好文件和构建好镜像在应用之间间互相拷贝功能

1.6 编译时可以选择填写其他分支，默认是master

2.配置管理

2.1 去掉配置文件组概念，多个配置文件，直接就显示多个配置文件

2.2 增加用户上传配置文件功能

2.3 为了支持用户回滚，增加配置文件历史版本功能，包括历史文件查看、比较、还原功能

2.4 支持配置文件从其他应用克隆（同一个系统内，支持不同应用之间拷贝）

2.5 增加特殊配置文件，配置文件中有内容为加密字段，实际写到配置文件中时需要按照解密算法进行解密

3.集群管理

3.1 增加灰度调整功能

      3.1.1 同一个集群只支持两个版本

      3.1.2 场景说明：老版本v1   新版本v2 集群容器个数10

               1)灰度发布新版本，选择容器个数2，则线上老版本v1 8个容器，新版本v2 2个容器

               2)灰度发布新版本，选择容器个数12，则线上新版本v2 12个容器，相当于扩容

               3)配置文件没有发生变化，灰度调整选择容器个数5，则线上老版本v1 5个容器，相当于缩容

               4)在1)调整基础上，进行再次调整，修改新版本容器个数为6个，则线上老版本v1 4个容器，增加新版本v2容器2个（原来两个保持不变）

               5)用户在4)的基础上对配置文件进行了修改，配置文件变为v3, 后续所有修改直接把v1容器都删掉，只保留v2和v3版本

3.2 增加审批功能

      3.2.1预发环境，审批人是自己

      3.2.2生产环境，审批人是系统管理员

3.3 操作历史，把目前服务管理里面的历史记录拿出来，和日志等并列放一起

4.个人中心

4.1 增加个人中心

      4.1.1 当前待处理审批

      4.1.2 我的申请状态

      4.1.3 操作历史（包括我的申请和我的审批）
   
5 数据库授权

5.1 增加数据库审批流程

      5.1.1 数据库授权审批由系统管理员进行
      
            A.审批状态  1）通过  2）不通过
            
            B.授权状态  1）授权成功  2）授权失败
            
      5.1.2 数据库密码以加密的方式发送给开发人员，通过配置文件进行配置
